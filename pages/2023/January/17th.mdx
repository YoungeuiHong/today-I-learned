# 17th January, 2023

## ğŸ§ State Colocation
- input ìš”ì†Œê°€ ì—¬ëŸ¬ ê°œì¼ ë•Œ, í•œ inputì˜ ìœ íš¨ì„± ìƒíƒœ ë³€ê²½ ë•Œë¬¸ì— ëª¨ë“  ì»´í¬ë„ŒíŠ¸ê°€ ë¦¬ë Œë”ë§ ë  í•„ìš”ëŠ” ì—†ìŒ
- ë”°ë¼ì„œ ë¦¬ë Œë”ë§ì´ í•„ìš”í•œ ì»´í¬ë„ŒíŠ¸ë§Œ ë¶„ë¦¬í•˜ì—¬, ë¦¬ë Œë”ë§ë˜ëŠ” ë²”ìœ„ë¥¼ ì¢íˆëŠ” ë°©ë²•ì´ ë§ì´ ì“°ì„
- ì´ëŸ° ì‹ìœ¼ë¡œ ì»´í¬ë„ŒíŠ¸ì˜ ìƒíƒœë¥¼ ì„œë¡œ ê´€ë ¨ì´ ìˆëŠ” ê²ƒë“¤ë¼ë¦¬ë§Œ ëª¨ì•„ ë¶„ë¦¬í•˜ì—¬ ìœ„ì¹˜ì‹œí‚¤ëŠ” ë°©ë²•ì„ State Colocationì´ë¼ í•¨

## ğŸš€ React Query
[React Queryì™€ ìƒíƒœ ê´€ë¦¬ :: 2022ë…„ 2ì›” ìš°ì•„í•œí…Œí¬ ì„¸ë¯¸ë‚˜](https://youtu.be/MArE6Hy371c)

### ìƒíƒœ ê´€ë¦¬ ë¼ì´ë¸ŒëŸ¬ë¦¬ì˜ Store ê´€ë ¨ ë¬¸ì œ

- StoreëŠ” ì „ì—­ ìƒíƒœê°€ ì €ì¥ë˜ê³  ê´€ë¦¬ë˜ëŠ” ê³µê°„ì¸ë° API í†µì‹  ì½”ë“œê°€ ì£¼ë¥¼ ì´ë£¨ê²Œ ë˜ëŠ” ë¬¸ì œ
- ìƒíƒœ ê´€ë¦¬ ì˜ì—­ì´ ì„œë²„ê°’ì„ ì €ì¥í•˜ëŠ” ë°ê¹Œì§€ í™•ì¥ë¨
- isFetching, isError ë“± API ê´€ë ¨ ìƒíƒœ ì½”ë“œê°€ ë°˜ë³µë¨

### ì„œë²„ì—ì„œ ë°›ì•„ì•¼ í•˜ëŠ” ìƒíƒœë“¤ì˜ íŠ¹ì„±
- í´ë¼ì´ì–¸íŠ¸ê°€ ì œì–´í•˜ê±°ë‚˜ ì†Œìœ í•˜ì§€ ì•ŠëŠ” ì›ê²©ì˜ ê³µê°„ì—ì„œ ê´€ë¦¬ë˜ê³  ìœ ì§€ë¨
- Fetchingì´ë‚˜ Updatingì— ë¹„ë™ê¸° APIê°€ í•„ìš”í•¨
- ë‹¤ë¥¸ ì‚¬ëŒë“¤ê³¼ ê³µìœ ë˜ëŠ” ê²ƒìœ¼ë¡œ ì‚¬ìš©ìê°€ ëª¨ë¥´ëŠ” ì‚¬ì´ì— ë³€ê²½ë  ìˆ˜ ìˆìŒ
- ì‹ ê²½ ì“°ì§€ ì•ŠëŠ”ë‹¤ë©´ ì ì¬ì ìœ¼ë¡œ out of dateê°€ ë  ê°€ëŠ¥ì„±ì„ ì§€ë‹˜

### Client State vs. Server State
âœ” Client State
- Clientì—ì„œ ì†Œìœ í•˜ë©° ì˜¨ì „íˆ ì œì–´ ê°€ëŠ¥í•¨
- ì´ˆê¸°ê°’ ì„¤ì •ì´ë‚˜ ì¡°ì‘ì— ì œì•½ì‚¬í•­ ì—†ìŒ
- ë‹¤ë¥¸ ì‚¬ëŒë“¤ê³¼ ê³µìœ ë˜ì§€ ì•Šìœ¼ë©° Client ë‚´ì—ì„œ UI/UX íë¦„ì´ë‚˜ ì‚¬ìš©ì ì¸í„°ë ‰ì…˜ì— ë”°ë¼ ë³€í•  ìˆ˜ ìˆìŒ
- í•­ìƒ Client ë‚´ì—ì„œ ìµœì‹  ìƒíƒœë¡œ ê´€ë¦¬ë¨ï¸

âœ”ï¸ Server State
- Clientì—ì„œ ì œì–´í•˜ê±°ë‚˜ ì†Œìœ í•˜ì§€ ì•ŠëŠ” ì›ê²©ì˜ ê³µê°„ì—ì„œ ê´€ë¦¬ë˜ê³  ìœ ì§€ë¨
- Fetchingì´ë‚˜ Updatingì— ë¹„ë™ê¸° APIê°€ í•„ìš”í•¨
- ë‹¤ë¥¸ ì‚¬ëŒê³¼ ê³µìœ ë˜ëŠ” ê²ƒìœ¼ë¡œ ì‚¬ìš©ìê°€ ëª¨ë¥´ëŠ” ì‚¬ì´ì— ë³€ê²½ë  ìˆ˜ ìˆìŒ
- ì‹ ê²½ ì“°ì§€ ì•ŠëŠ”ë‹¤ë©´ ì ì¬ì ìœ¼ë¡œ out of dateê°€ ë  ê°€ëŠ¥ì„±ì„ ì§€ë‹˜

### What is React Query?
- Fetch, cache and update data in your React application without touching any 'global state'.

### QueryClientProvider
```tsx
import { QueryClient, QueryClientProvider } from 'react-query'

const queryClient = new QueryClient();

function App() {
    return (
        <QueryClientProvider client={queryClient}>
            <div></div>
        </QueryClientProvider>
    );
}
```

### Queries
- Queriesì€ ë°ì´í„° Fetchingìš©. ì¦‰, CRUD ì¤‘ Readingì—ë§Œ ì‚¬ìš©ë¨

ğŸ“Œ Query Key
    - React QueryëŠ” Query Keyì— ë”°ë¼ query cachingì„ ê´€ë¦¬í•¨
    - QueryëŠ” String í˜•íƒœì™€ Array í˜•íƒœë¡œ ê´€ë¦¬í•  ìˆ˜ ìˆìŒ

ğŸ“Œ Query Function
    - Promiseë¥¼ ë°˜í™˜í•˜ëŠ” í•¨ìˆ˜ (ë°ì´í„° resolveë¥¼ í•˜ê±°ë‚˜ errorë¥¼ throw)

ğŸ“Œ Option
    - Configë¥¼ ì»¤ìŠ¤í…€ í•  ìˆ˜ ìˆìŒ
    - onSuccess, onError, onSettled: query fetching ì„±ê³µ/ì‹¤íŒ¨/ì™„ë£Œ ì‹œ ì‹¤í–‰í•  Side Effectë¥¼ ì •ì˜í•  ìˆ˜ ìˆìŒ

```tsx
import { useQuery } from 'react-query'

function App() {
    // todos: Query Key
    // fetchTodoList: Query Function
    const info = useQuery('todos', fetchTodoList);
}
```

![Query íŒŒì¼ ê´€ë¦¬](https://gitlab.com/public-space2/public-img/-/raw/main/%E1%84%89%E1%85%B3%E1%84%8F%E1%85%B3%E1%84%85%E1%85%B5%E1%86%AB%E1%84%89%E1%85%A3%E1%86%BA_2023-01-17_%E1%84%8B%E1%85%A9%E1%84%92%E1%85%AE_3.16.13.png)

## â˜¸ï¸ ì¿ ë²„ë„¤í‹°ìŠ¤

### `kubectl apply`
[kubectl apply docs](https://kubernetes.io/docs/reference/generated/kubectl/kubectl-commands#apply)
- í™˜ê²½ì„¤ì •ì„ ì ìš©í•  ë•Œ ì‚¬ìš© (Apply a configuration to a resource by filename or stdin)
```bash
$ kubectl apply (-f FILENAME | -k DIRECTORY)
```
